(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(t,e,n){t.exports=n(73)},47:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(22),u=n.n(c),r=n(10),l=n(3),s=n(19),i=n(24),d={quotesBank:[]},h=function(t,e){return{type:"ADD_NEW_QUOTE",payload:t,index:e}},m=Object(i.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(console.log(t),console.log(e),e.type){case"UPDATE_REDUX_INITIAL_LOAD":return Object(s.a)({},t,{quotesBank:e.payload});case"ADD_NEW_AUTHOR":return Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank),[e.payload])});case"ADD_NEW_QUOTE":return Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});case"UPDATE_AUTHOR":var n=Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});return console.log(n),Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});default:return t}},d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=(n(47),n(4)),b=n(5),f=n(7),E=n(6),O=n(8),q=n(2),j=n(17),v=n(11),k=n.n(v),g=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=function(){k.a.get("/quotes/fetchquotes").then(function(t){n.props.updateRedux(t.data)}).catch(function(t){console.log(t)})},n.state={},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(q.b,{to:"/new"},"Add a quotable author"),o.a.createElement("label",null,"We have quotes by:"),o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Author"),o.a.createElement("th",null,"Actions available")),this.props.quotesBank.map(function(t){return o.a.createElement("tr",null,o.a.createElement("td",null,t.author),o.a.createElement("td",null,o.a.createElement("button",null,o.a.createElement(q.b,{to:"/quotes/".concat(t.author)},"View Quotes")),o.a.createElement("button",null,o.a.createElement(q.b,{to:"/edit/".concat(t.author)},"Edit"))))})))}}]),e}(o.a.Component),B=Object(r.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{updateRedux:function(e){t(function(t){return{type:"UPDATE_REDUX_INITIAL_LOAD",payload:t}}(e))}}})(g),A=n(16),w=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).handleChange=function(t){n.setState(Object(A.a)({},t.target.name,t.target.value))},n.cancelForm=function(){n.props.history.push("/")},n.addNewAuthor=function(){k.a.post("/quotes/postnewauthor/".concat(n.state.authorName)).then(function(t){if(200===t.status){var e={id:(n.props.quotesBank.length+1).toString(),author:n.state.authorName,quotes:[]};n.props.addNewAuthorToStore(e),n.props.history.push("/")}}).catch(function(t){console.log(t)})},n.state={authorName:""},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(q.b,{to:"/"},"Home"),o.a.createElement("label",null,"Add a new quotable author: "),o.a.createElement("form",{onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"authorName"},"Name:"),o.a.createElement("input",{name:"authorName",onChange:this.handleChange,value:this.state.authorName}),o.a.createElement("button",{onClick:this.cancelForm},"Cancel"),o.a.createElement("button",{onClick:this.addNewAuthor},"Submit")))}}]),e}(o.a.Component),N=Object(r.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addNewAuthorToStore:function(e){t({type:"ADD_NEW_AUTHOR",payload:e})}}})(w),y=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).vote=function(t,e,a){var o,c=t.votes;o="up"===a?Object.assign({},t,{votes:c+1}):Object.assign({},t,{votes:c-1});var u=n.props.quotesBank.find(function(t){return t.author===n.props.match.params.id}),r=n.props.quotesBank.findIndex(function(t){return t.author===n.props.match.params.id}),s=Object.assign({},u,{quotes:[].concat(Object(l.a)(u.quotes.slice(0,e)),[u.quotes[e]=o],Object(l.a)(u.quotes.slice(e+1)))});k.a.put("/quotes/addnewquote/".concat(u.id),s).then(function(t){console.log(t),200===t.status&&(console.log("durga test"),n.props.editVoteOnStore(s,r))}).catch(function(t){console.log(t)})},n.deleteQuote=function(t){console.log("Quote - index to delete"),console.log(t);var e=n.props.quotesBank.find(function(t){return t.author===n.props.match.params.id});n.props.quotesBank.findIndex(function(t){return t.author===n.props.match.params.id});console.log("Author - index to delete"),console.log(e);var a=Object.assign({},e,{quotes:[].concat(Object(l.a)(e.quotes.slice(0,t)),Object(l.a)(e.quotes.slice(t+1)))});console.log(a),k.a.put("/quotes/addnewquote/".concat(e.id),a).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},n.state={},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this,e=this.props.quotesBank.find(function(e){return e.author===t.props.match.params.id});return console.log(e),o.a.createElement("div",null,o.a.createElement(q.b,{to:"/"},"Home"),o.a.createElement(q.b,{to:"/write/".concat(this.props.match.params.id)},"Add a quote"),o.a.createElement("table",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Quotes"),o.a.createElement("th",null,"Votes"),o.a.createElement("th",null,"Actions available")),e.quotes.map(function(e,n){return o.a.createElement("tr",null,o.a.createElement("td",null,e.quote),o.a.createElement("td",null,e.votes),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){t.vote(e,n,"up")}},"Vote up"),o.a.createElement("button",{onClick:function(){t.vote(e,n,"down")}},"Vote down"),o.a.createElement("button",{onClick:function(){t.deleteQuote(n)}},"Delete")))})))}}]),e}(o.a.Component),C=Object(r.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{editVoteOnStore:function(e,n){t(h(e,n))}}})(y),_=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).handleChange=function(t){n.setState(Object(A.a)({},t.target.name,t.target.value))},n.cancelForm=function(){n.props.history.push("/")},n.addNewQuote=function(){var t=n.props.quotesBank.find(function(t){return t.author===n.props.match.params.id}),e=n.props.quotesBank.findIndex(function(t){return t.author===n.props.match.params.id}),a={id:(t.quotes.length+1).toString(),quote:n.state.quoteToAdd,votes:0},o=Object.assign({},t,{quotes:[].concat(Object(l.a)(t.quotes),[a])});k.a.put("/quotes/addnewquote/".concat(t.id),o).then(function(t){console.log(t),200===t.status&&(n.props.addNewQuoteToAuthorOnStore(o,e),n.props.history.push("/"))}).catch(function(t){console.log(t)})},n.state={quoteToAdd:""},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(q.b,{to:"/"},"Home"),o.a.createElement("label",null,"Provide a quote by ",this.props.match.params.id,":"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"quoteToAdd"},"Quote:"),o.a.createElement("input",{name:"quoteToAdd",onChange:this.handleChange,value:this.state.quoteToAdd}),o.a.createElement("button",{onClick:this.cancelForm},"Cancel"),o.a.createElement("button",{onClick:this.addNewQuote},"Submit")))}}]),e}(o.a.Component),T=Object(r.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addNewQuoteToAuthorOnStore:function(e,n){t(h(e,n))}}})(_),D=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=function(){n.setState({authorName:n.props.match.params.id})},n.handleChange=function(t){n.setState(Object(A.a)({},t.target.name,t.target.value))},n.editAuthor=function(){console.log(n.props.quotesBank);var t=n.props.quotesBank.find(function(t){return t.author===n.props.match.params.id}),e=n.props.quotesBank.findIndex(function(t){return t.author===n.props.match.params.id});console.log(t);var a=Object.assign({},t,{author:n.state.authorName});console.log(a),k.a.put("/quotes/addnewquote/".concat(t.id),a).then(function(t){200===t.status&&(n.props.addEditedAuthorToStore(a,e),n.props.history.push("/"))}).catch(function(t){console.log(t)})},n.state={authorName:""},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement(q.b,{to:"/"},"Home"),o.a.createElement("label",null,"Edit quotable author: "),o.a.createElement("form",{onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"authorName"},"Name:"),o.a.createElement("input",{name:"authorName",onChange:this.handleChange,value:this.state.authorName}),o.a.createElement("button",{onClick:function(){t.props.history.push("/")}},"Cancel"),o.a.createElement("button",{onClick:this.editAuthor},"Submit")))}}]),e}(o.a.Component),S=Object(r.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addEditedAuthorToStore:function(e,n){t(function(t,e){return{type:"UPDATE_AUTHOR",payload:t,index:e}}(e,n))}}})(D),x=(n(72),function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(E.a)(e).call(this,t))).state={},n}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"parentcontainer"},o.a.createElement("h1",null,"Quote Ranks"),o.a.createElement(j.c,null,o.a.createElement(j.a,{exact:!0,path:"/",component:B}),o.a.createElement(j.a,{path:"/new",component:N}),o.a.createElement(j.a,{path:"/quotes/:id",component:C}),o.a.createElement(j.a,{path:"/write/:id",component:T}),o.a.createElement(j.a,{path:"/edit/:id",component:S})))}}]),e}(o.a.Component)),U=function(t){function e(){return Object(p.a)(this,e),Object(f.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement(q.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(x,null)))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(r.a,{store:m},o.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.99570252.chunk.js.map