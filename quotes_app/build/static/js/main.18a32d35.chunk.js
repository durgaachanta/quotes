(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(t,e,a){t.exports=a(74)},47:function(t,e,a){},72:function(t,e,a){},74:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(22),r=a.n(c),u=a(10),l=a(3),s=a(19),i=a(24),m={quotesBank:[]},d=function(t,e){return{type:"ADD_NEW_QUOTE",payload:t,index:e}},h=Object(i.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(console.log(t),console.log(e),e.type){case"UPDATE_REDUX_INITIAL_LOAD":return Object(s.a)({},t,{quotesBank:e.payload});case"ADD_NEW_AUTHOR":return Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank),[e.payload])});case"ADD_NEW_QUOTE":return Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});case"UPDATE_AUTHOR":var a=Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});return console.log(a),Object(s.a)({},t,{quotesBank:[].concat(Object(l.a)(t.quotesBank.slice(0,e.index)),[t.quotesBank[e.index]=e.payload],Object(l.a)(t.quotesBank.slice(e.index+1)))});default:return t}},m,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),p=(a(47),a(4)),b=a(5),f=a(7),E=a(6),O=a(8),q=a(2),g=a(17),j=a(11),N=a.n(j),v=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=function(){N.a.get("/quotes/fetchquotes").then(function(t){a.props.updateRedux(t.data)}).catch(function(t){console.log(t)})},a.state={},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(q.b,{className:"row",to:"/new"},"Add a quotable author"),o.a.createElement("label",null,"We have quotes by:"),o.a.createElement("table",{className:"table"},o.a.createElement("tr",null,o.a.createElement("th",null,"Author"),o.a.createElement("th",null,"Actions available")),this.props.quotesBank.map(function(t){return o.a.createElement("tr",null,o.a.createElement("td",null,t.author),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-light btn-lg"},o.a.createElement(q.b,{to:"/quotes/".concat(t.author)},"View Quotes")),o.a.createElement("button",{className:"btn btn-dark btn-lg"},o.a.createElement(q.b,{to:"/edit/".concat(t.author)},"Edit"))))})))}}]),e}(o.a.Component),k=Object(u.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{updateRedux:function(e){t(function(t){return{type:"UPDATE_REDUX_INITIAL_LOAD",payload:t}}(e))}}})(v),w=a(16),B=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).handleChange=function(t){a.setState(Object(w.a)({},t.target.name,t.target.value))},a.cancelForm=function(){a.props.history.push("/")},a.addNewAuthor=function(){N.a.post("/quotes/postnewauthor/".concat(a.state.authorName)).then(function(t){if(200===t.status){var e={id:(a.props.quotesBank.length+1).toString(),author:a.state.authorName,quotes:[]};a.props.addNewAuthorToStore(e),a.props.history.push("/")}}).catch(function(t){console.log(t)})},a.state={authorName:""},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(q.b,{className:"row",to:"/"},"Home"),o.a.createElement("label",null,"Add a new quotable author: "),o.a.createElement("form",{className:"form-group",onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"authorName"},"Name:"),o.a.createElement("input",{className:"form-control",name:"authorName",onChange:this.handleChange,value:this.state.authorName}),o.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:this.cancelForm},"Cancel"),o.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.addNewAuthor},"Submit")))}}]),e}(o.a.Component),A=Object(u.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addNewAuthorToStore:function(e){t({type:"ADD_NEW_AUTHOR",payload:e})}}})(B),y=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).vote=function(t,e,n){var o,c=t.votes;o="up"===n?Object.assign({},t,{votes:c+1}):Object.assign({},t,{votes:c-1});var r=a.props.quotesBank.find(function(t){return t.author===a.props.match.params.id}),u=a.props.quotesBank.findIndex(function(t){return t.author===a.props.match.params.id}),s=Object.assign({},r,{quotes:[].concat(Object(l.a)(r.quotes.slice(0,e)),[r.quotes[e]=o],Object(l.a)(r.quotes.slice(e+1)))});N.a.put("/quotes/addnewquote/".concat(r.id),s).then(function(t){console.log(t),200===t.status&&(console.log("durga test"),a.props.editVoteOnStore(s,u))}).catch(function(t){console.log(t)})},a.deleteQuote=function(t){console.log("Quote - index to delete"),console.log(t);var e=a.props.quotesBank.find(function(t){return t.author===a.props.match.params.id});a.props.quotesBank.findIndex(function(t){return t.author===a.props.match.params.id});console.log("Author - index to delete"),console.log(e);var n=Object.assign({},e,{quotes:[].concat(Object(l.a)(e.quotes.slice(0,t)),Object(l.a)(e.quotes.slice(t+1)))});console.log(n),N.a.put("/quotes/addnewquote/".concat(e.id),n).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},a.state={},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this,e=this.props.quotesBank.find(function(e){return e.author===t.props.match.params.id});return console.log(e),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement(q.b,{className:"col",to:"/"},"Home"),o.a.createElement(q.b,{className:"col",to:"/write/".concat(this.props.match.params.id)},"Add a quote")),o.a.createElement("label",null,"Quotes by: ",this.props.match.params.id),o.a.createElement("table",{className:"table"},o.a.createElement("tr",null,o.a.createElement("th",null,"Quotes"),o.a.createElement("th",null,"Votes"),o.a.createElement("th",null,"Actions available")),e.quotes.map(function(e,a){return o.a.createElement("tr",null,o.a.createElement("td",null,e.quote),o.a.createElement("td",null,e.votes),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){t.vote(e,a,"up")}},"Vote up"),o.a.createElement("button",{className:"btn btn-warning btn-lg",onClick:function(){t.vote(e,a,"down")}},"Vote down"),o.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){t.deleteQuote(a)}},"Delete")))})))}}]),e}(o.a.Component),C=Object(u.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{editVoteOnStore:function(e,a){t(d(e,a))}}})(y),_=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).handleChange=function(t){a.setState(Object(w.a)({},t.target.name,t.target.value))},a.cancelForm=function(){a.props.history.push("/")},a.addNewQuote=function(){var t=a.props.quotesBank.find(function(t){return t.author===a.props.match.params.id}),e=a.props.quotesBank.findIndex(function(t){return t.author===a.props.match.params.id}),n={id:(t.quotes.length+1).toString(),quote:a.state.quoteToAdd,votes:0},o=Object.assign({},t,{quotes:[].concat(Object(l.a)(t.quotes),[n])});N.a.put("/quotes/addnewquote/".concat(t.id),o).then(function(t){console.log(t),200===t.status&&(a.props.addNewQuoteToAuthorOnStore(o,e),a.props.history.push("/"))}).catch(function(t){console.log(t)})},a.state={quoteToAdd:""},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(q.b,{className:"row",to:"/"},"Home"),o.a.createElement("label",null,"Provide a quote by ",this.props.match.params.id,":"),o.a.createElement("form",{className:"form-group",onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"quoteToAdd"},"Quote:"),o.a.createElement("input",{className:"form-control",name:"quoteToAdd",onChange:this.handleChange,value:this.state.quoteToAdd}),o.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:this.cancelForm},"Cancel"),o.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.addNewQuote},"Submit")))}}]),e}(o.a.Component),T=Object(u.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addNewQuoteToAuthorOnStore:function(e,a){t(d(e,a))}}})(_),D=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).componentDidMount=function(){a.setState({authorName:a.props.match.params.id})},a.handleChange=function(t){a.setState(Object(w.a)({},t.target.name,t.target.value))},a.editAuthor=function(){console.log(a.props.quotesBank);var t=a.props.quotesBank.find(function(t){return t.author===a.props.match.params.id}),e=a.props.quotesBank.findIndex(function(t){return t.author===a.props.match.params.id});console.log(t);var n=Object.assign({},t,{author:a.state.authorName});console.log(n),N.a.put("/quotes/addnewquote/".concat(t.id),n).then(function(t){200===t.status&&(a.props.addEditedAuthorToStore(n,e),a.props.history.push("/"))}).catch(function(t){console.log(t)})},a.state={authorName:""},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(q.b,{to:"/"},"Home"),o.a.createElement("label",null,"Edit quotable author: "),o.a.createElement("form",{className:"form-group",onSubmit:function(t){t.preventDefault()}},o.a.createElement("label",{htmlFor:"authorName"},"Name:"),o.a.createElement("input",{className:"form-control",name:"authorName",onChange:this.handleChange,value:this.state.authorName}),o.a.createElement("button",{className:"btn btn-danger btn-lg",onClick:function(){t.props.history.push("/")}},"Cancel"),o.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:this.editAuthor},"Submit")))}}]),e}(o.a.Component),S=Object(u.b)(function(t){return{quotesBank:t.quotesBank}},function(t){return{addEditedAuthorToStore:function(e,a){t(function(t,e){return{type:"UPDATE_AUTHOR",payload:t,index:e}}(e,a))}}})(D),x=(a(72),function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(f.a)(this,Object(E.a)(e).call(this,t))).state={},a}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("h1",{className:"row"},"Quote Ranks"),o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/",component:k}),o.a.createElement(g.a,{path:"/new",component:A}),o.a.createElement(g.a,{path:"/quotes/:id",component:C}),o.a.createElement(g.a,{path:"/write/:id",component:T}),o.a.createElement(g.a,{path:"/edit/:id",component:S})))}}]),e}(o.a.Component)),Q=function(t){function e(){return Object(p.a)(this,e),Object(f.a)(this,Object(E.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return o.a.createElement(q.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(x,null)))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(73);r.a.render(o.a.createElement(u.a,{store:h},o.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.18a32d35.chunk.js.map